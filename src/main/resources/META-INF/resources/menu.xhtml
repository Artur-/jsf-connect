<ui:composition
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:p="http://primefaces.org/ui"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:sec="http://www.springframework.org/security/tags"
>
  <h:form>
    <div class="authorization-div">
      <sec:authorize access="hasRole('ROLE_USER')">
        <p:outputLabel value="You have the USER role" />
      </sec:authorize>
      <sec:authorize access="hasRole('ROLE_ADMIN')">
        <p:outputLabel value="You have the ADMIN role" />
      </sec:authorize>
    </div>
    <style>
      .navi { display: flex; }
      .navi > li {
        display: block;
        padding-right: 2em;
      }
    </style>
    <ul class="navi">
      <li>
        <a href="/home.xhtml">Home</a>
      </li>
      <li>
        <a href="/dashboard.xhtml">Dashboard</a>
      </li>
      <sec:authorize access="hasRole('ROLE_ADMIN')">
        <li>
          <a href="/user-admin.xhtml">User admin (only for admins)</a>
        </li>
      </sec:authorize>
    </ul>
  </h:form>

  <h:form
    onsubmit="this.action='#{request.contextPath}/logout';"
    class="logout-form"
  >
    <p:commandButton value="Logout" ajax="false" />
  </h:form>
  <hr />
</ui:composition>
